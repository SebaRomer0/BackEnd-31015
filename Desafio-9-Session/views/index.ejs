<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Desafio WebSockets</title>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <h1>Desafio WebSockets</h1>
                <form action="/productos" method="post">
                    <div class="card-body">
                        <label class="form-label">Nombre</label>
                        <input id="name" type="text" name="name" class="form-control">

                        <label class="form-label">Precio</label>
                        <input id="price" type="number" name="price" class="form-control">

                        <label class="form-label">Foto URL</label>
                        <input id="foto" type="url" name="url" class="form-control">
                        <br>
                        <button type="submit" class="btn btn-primary p-3">Enviar</button>
                    </div>
                </form>
            </div>
        </div>
        
        <a class="btn btn-primary" href="/productos">Ir a los Productos ya Almacenados</a>

        <div class="row">
            <div class="col">
                <table class="table table-striped text-center">
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Precio</th>
                        <th>Foto</th>
                    </tr>
                    <% if (product.length == 0) { %>
                        <h1>No hay Productos Cargados</h1>
                        <% } else { %>
                            <% product.forEach(element=> { %>
                                <tr>
                                    <td>
                                        <%= element.id %>
                                    </td>
                                    <td>
                                        <%= element.nombre %>
                                    </td>
                                    <td>
                                        <%= element.precio %>
                                    </td>
                                    <td>
                                        <%= element.foto %>
                                    </td>
                                </tr>
                                <% }); %>
                            <% } %>
                </table>
            </div>
        </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="../public/webSocket.js"></script>
</body>
</html>